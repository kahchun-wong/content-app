import{u as h}from"./D7qxC62a.js";import{v as m,at as d,au as l,ax as x,k as p,Q as v}from"./DPLDvXcD.js";import{u as A}from"./BbZIwDQp.js";const y="__nuxt_component";async function C(f,c){const t=p(),u=m(),n=v(),{fetchKey:a,_fetchKeyBase:r}=n.proxy.$options,i=(typeof a=="function"?a(()=>""):a)||[r,u.fullPath,u.matched.findIndex(s=>Object.values(s.components||{}).includes(n.type))].join(":"),{data:e,error:o}=await A(`options:asyncdata:${i}`,()=>t.runWithContext(()=>c(t)));if(o.value)throw d(o.value);e.value&&typeof e.value=="object"&&Object.assign(await f,l(x(e.value)))}const j=function(...c){const[t,u]=c,{setup:n}=t;return!n&&!t.asyncData&&!t.head?{[y]:!0,...t}:{[y]:!0,_fetchKeyBase:u,...t,setup(a,r){const i=p(),e=n?Promise.resolve(i.runWithContext(()=>n(a,r))).then(s=>s||{}):{},o=[];if(t.asyncData&&o.push(C(e,t.asyncData)),t.head){const s=p();h(typeof t.head=="function"?()=>t.head(s):t.head)}return Promise.resolve(e).then(()=>Promise.all(o)).then(()=>e).finally(()=>{o.length=0})}}};export{j as d};
