import{d as c,I as d,k as h,v,s as p,u as w}from"./BbR-A2cp.js";import{u as n}from"./rkpFLkDi.js";import g from"./D5gnhj0-.js";import"./DPGFOF0e.js";import"./DQLtEDiL.js";import"./CcfqSU4s.js";import"./E5vmwhfR.js";import"./BEsUpeCk.js";import"./DGVsw9AO.js";import"./CnYBeH4v.js";import"./BcGsdsnd.js";import"./Bi29Wnbr.js";import"./74UkT8v1.js";import"./CFg4jiY6.js";import"./DURpjlGA.js";import"./mjzo0FSb.js";const F=c({name:"PlatformDropdown",props:{product:{type:String,required:!0}},setup(i){const s=h(),m=i.product,u=s.$versioning.usePlatformDropdown(m);async function l(o){var a;let t=o.value.value;if(v().fullPath!=t){const{data:f}=await n("platform"+t,()=>p().where({_path:{$eq:t}}).findOne(),"$FWhZnB0Ttw");if(!f.value){const e=t.split("/").slice(0,-1).join("/"),{data:r}=await n("platform"+e,()=>p(e).find(),"$UvHUIpvPxm");(a=r.value)!=null&&a.length&&(t=r.value[0]._path)}w().push({path:t})}}return()=>{var o;return d(g,{class:"versioning platform",panelClass:"versioning platform",dataList:(o=u.value)==null?void 0:o.filter(t=>t.value),onChangeSelectionDropdown:l})}}});export{F as default};
