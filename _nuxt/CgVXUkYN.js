import{d,I as v,k as f,v as h,s as r,u as g}from"./BVDKrSY_.js";import{u as i}from"./Cmkf-wpr.js";import w from"./CW1c2_1n.js";import"./D9U_S3PJ.js";import"./CqjAbN1l.js";import"./BKNMgk-d.js";import"./Bo17kJK1.js";import"./BPTmnUMJ.js";import"./DDVR3Tql.js";import"./DbfHjOm7.js";import"./oERPa-ZU.js";import"./BziBRi1v.js";import"./DeuY7Hkd.js";import"./DgOVa_d6.js";import"./DyjjZlz_.js";import"./B0kwmXJk.js";const F=d({name:"VersionDropdown",props:{product:{type:String,required:!0}},setup(a){const s=f(),p=a.product,u=s.$versioning.useVersionDropdown(p);async function m(c){var o;let t=c.value.value;if(h().fullPath!=t){const{data:l}=await i("version"+t,()=>r().where({_path:{$eq:t}}).findOne(),"$g7xigjiDEy");if(!l.value){const e=t.split("/").slice(0,-1).join("/"),{data:n}=await i("version"+e,()=>r(e).find(),"$y0aRxyLqFE");(o=n.value)!=null&&o.length&&(t=n.value[0]._path)}g().push({path:t})}}return()=>v(w,{class:"versioning version",panelClass:"versioning platform",dataList:u.value,onChangeSelectionDropdown:m})}});export{F as default};
