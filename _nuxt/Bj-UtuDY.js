import{d as c,I as d,k as h,v,s as p,u as w}from"./BVDKrSY_.js";import{u as n}from"./Cmkf-wpr.js";import g from"./CW1c2_1n.js";import"./D9U_S3PJ.js";import"./CqjAbN1l.js";import"./BKNMgk-d.js";import"./Bo17kJK1.js";import"./BPTmnUMJ.js";import"./DDVR3Tql.js";import"./DbfHjOm7.js";import"./oERPa-ZU.js";import"./BziBRi1v.js";import"./DeuY7Hkd.js";import"./DgOVa_d6.js";import"./DyjjZlz_.js";import"./B0kwmXJk.js";const F=c({name:"PlatformDropdown",props:{product:{type:String,required:!0}},setup(i){const s=h(),m=i.product,u=s.$versioning.usePlatformDropdown(m);async function l(o){var a;let t=o.value.value;if(v().fullPath!=t){const{data:f}=await n("platform"+t,()=>p().where({_path:{$eq:t}}).findOne(),"$FWhZnB0Ttw");if(!f.value){const e=t.split("/").slice(0,-1).join("/"),{data:r}=await n("platform"+e,()=>p(e).find(),"$UvHUIpvPxm");(a=r.value)!=null&&a.length&&(t=r.value[0]._path)}w().push({path:t})}}return()=>{var o;return d(g,{class:"versioning platform",panelClass:"versioning platform",dataList:(o=u.value)==null?void 0:o.filter(t=>t.value),onChangeSelectionDropdown:l})}}});export{F as default};
