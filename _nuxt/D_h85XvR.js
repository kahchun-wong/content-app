import{u as h}from"./C8cd02Pm.js";import{v as m,ar as d,az as l,aC as x,k as p,P as v}from"./NDZgLq3h.js";import{u as C}from"./C8idJT66.js";const y="__nuxt_component";async function A(f,r){const t=p(),c=m(),n=v(),{fetchKey:a,_fetchKeyBase:u}=n.proxy.$options,i=(typeof a=="function"?a(()=>""):a)||[u,c.fullPath,c.matched.findIndex(s=>Object.values(s.components||{}).includes(n.type))].join(":"),{data:e,error:o}=await C(`options:asyncdata:${i}`,()=>t.runWithContext(()=>r(t)));if(o.value)throw d(o.value);e.value&&typeof e.value=="object"&&Object.assign(await f,l(x(e.value)))}const g=function(...r){const[t,c]=r,{setup:n}=t;return!n&&!t.asyncData&&!t.head?{[y]:!0,...t}:{[y]:!0,_fetchKeyBase:c,...t,setup(a,u){const i=p(),e=n?Promise.resolve(i.runWithContext(()=>n(a,u))).then(s=>s||{}):{},o=[];if(t.asyncData&&o.push(A(e,t.asyncData)),t.head){const s=p();h(typeof t.head=="function"?()=>t.head(s):t.head)}return Promise.resolve(e).then(()=>Promise.all(o)).then(()=>e).finally(()=>{o.length=0})}}};export{g as d};
