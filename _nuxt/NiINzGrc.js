import E from"./BVRw3jev.js";import{_ as R}from"./ACbXnyYK.js";import D from"./BjXHTaEF.js";import{_ as P,a as T}from"./DmZp0MSX.js";import V from"./qRkLnFDH.js";import q from"./C2FgW6FE.js";import{d as z,r as i,J,m as O,U as F,N as K,o as W,a1 as Y,b as k,H as N,w as s,g as e,E as d,e as r,n as B,t as U,c as j,f as M,k as G,y as Q,s as X}from"./TvbOaoXS.js";import{u as Z}from"./5pxIUw9p.js";const I=""+new URL("img_logo_softspace.DHzpSNbf.svg",import.meta.url).href,nn=r("img",{class:"ss-navbar-logo",src:I},null,-1),en={class:"ss-navbar-menuitem-link-wrapper"},sn={class:"ss-navbar-menuitem-link-title"},an={class:"ss-navbar-menuitem-link-label"},on={key:0,class:"ss-navbar-menuitem-link-description"},dn=z({__name:"TopNavbar",async setup(tn){let l,h;const w=G(),g=i(),$=J(()=>{var n;return((n=g.value)==null?void 0:n.clientHeight)??0});w.$navbarHeight=$;const y=i(),x=i(!1),H=O().app.baseURL,C=async n=>{var u,c,o,m,p,_,b;const{data:a}=await w.runWithContext(async()=>Z(n.url??"",()=>X().where({_path:{$eq:n.url}}).findOne(),"$IiKkLd0xJU"));return"items"in n?(delete n.url,{...n,label:n.label??((u=a.value)==null?void 0:u.title),icon:n.icon??((c=a.value)==null?void 0:c.icon),description:n.description??((o=a.value)==null?void 0:o.description),items:await Promise.all(((m=n.items)==null?void 0:m.map(async t=>await C(t)))??[])}):{...n,label:n.label??((p=a.value)==null?void 0:p.title),icon:n.icon??((_=a.value)==null?void 0:_.icon),description:n.description??((b=a.value)==null?void 0:b.description)}},A=i(([l,h]=F(async()=>Promise.all((Q().navbar??[]).map(async n=>await C(n)))),l=await l,h(),l));console.log(A.value);const L=i(!0),v=()=>{L.value=window.scrollY===0};return K(()=>{var n;return(n=y.value)==null?void 0:n.mobileActive},n=>{console.log(n),x.value=n}),W(()=>{v(),window.addEventListener("scroll",v)}),Y(()=>{window.removeEventListener("scroll",v)}),(n,a)=>{const u=E,c=R,o=D,m=P,p=V,_=q,b=T;return k(),N(b,null,{default:s(()=>[e(u,{class:"ss-navbar-menu-block-overlay",blocked:d(x),fullScreen:""},null,8,["blocked"]),r("header",{class:B(["ss-navbar",{top:d(L)}]),ref_key:"navbar",ref:g},[e(_,{class:"ss-navbar-menu",model:d(A),ref_key:"navbarMenu",ref:y},{start:s(()=>[e(c,{class:"ss-navbar-logo-link",to:d(H)},{default:s(()=>[nn]),_:1},8,["to"])]),item:s(({item:t,hasSubmenu:S,root:f})=>[e(c,{class:B(["ss-navbar-menuitem-link p-menuitem-link",{root:f}]),to:t.url},{default:s(()=>[r("div",en,[r("p",sn,[e(o,{class:"ss-navbar-menuitem-link-icon",name:t.icon??"mdi:file-document-outline"},null,8,["name"]),r("span",an,U(t.label),1)]),t.description&&!f?(k(),j("p",on,U(t.description),1)):M("",!0)]),S?(k(),N(o,{key:0,class:"ss-navbar-menuitem-link-expand-icon p-submenu-icon",name:f?"prime:chevron-down":"prime:chevron-right"},null,8,["name"])):M("",!0)]),_:2},1032,["class","to"])]),end:s(()=>[e(m),e(c,{to:"#"},{default:s(()=>[e(p,{class:"ss-navbar-button",label:"Login"})]),_:1})]),menubuttonicon:s(()=>[e(o,{class:"ss-navbar-menu-button",name:"prime:bars"}),e(o,{class:"ss-navbar-menu-button-active",name:"prime:times"})]),_:1},8,["model"])],2)]),_:1})}}});export{dn as _};
