import{d as c,I as d,k as h,v,s as p,u as w}from"./NDZgLq3h.js";import{u as n}from"./C8idJT66.js";import g from"./Ci_lii3U.js";import"./D_h85XvR.js";import"./C8cd02Pm.js";import"./CvD1aJC5.js";import"./WwzgY64_.js";import"./DwO8kWWc.js";import"./BGkWmmJl.js";import"./DA8niZG9.js";import"./D2PN2on1.js";import"./B0rpGZJR.js";import"./CoyWzh_3.js";import"./D7UyjKMf.js";import"./DSBqcZEI.js";import"./BDT3eB3L.js";const F=c({name:"PlatformDropdown",props:{product:{type:String,required:!0}},setup(i){const s=h(),m=i.product,u=s.$versioning.usePlatformDropdown(m);async function l(o){var a;let t=o.value.value;if(v().fullPath!=t){const{data:f}=await n("platform"+t,()=>p().where({_path:{$eq:t}}).findOne(),"$FWhZnB0Ttw");if(!f.value){const e=t.split("/").slice(0,-1).join("/"),{data:r}=await n("platform"+e,()=>p(e).find(),"$UvHUIpvPxm");(a=r.value)!=null&&a.length&&(t=r.value[0]._path)}w().push({path:t})}}return()=>{var o;return d(g,{class:"versioning platform",panelClass:"versioning platform",dataList:(o=u.value)==null?void 0:o.filter(t=>t.value),onChangeSelectionDropdown:l})}}});export{F as default};
